<section class="header p-3">
    <h2>Configuraciones del sistema</h2>
    <small></small>
</section>

<app-configuration-landing></app-configuration-landing>

<section class="table p-3 w-100">
    <section class="edit-section mb-2 animate__animated animate__fadeInRight">
        <div class="title-conf rounded-pill m-3 w-25 d-flex align-items-center p-3">
            Proceso de vinculación
        </div>
        <div class="d-flex">
        <div class="m-2 p-2   ">
            <form [formGroup]="configurationForm"  (ngSubmit)="onSubmit()">
                <div class="d-flex justify-content-between align-items-start">
                    <div class="m-2 rounded-2 p-2 d-flex  col-4">
                        
                        <input type="checkbox" 
                        formControlName="inscripAutom" 
                        #inscripAutom 
                        id="inscripAutom"
                        (change)="validationProcess()"
                        style="margin-right: 10px; width: 20px; height: 20px; background-color: blueviolet; color: slateblue;">
                        <label for="inscripAutom" style=" cursor: pointer; " >Inscripción a la vinculación por proceso</label>
                        
                    </div>
                    <span  class="ayuda d-flex align-items-start text-secondary p-2 animate__animated animate__fadeIn ">
                        <mat-icon>quiz</mat-icon>
                        <span>
                            {{_explain}}
                        </span>
                    </span>
                </div>
                <hr>
                <div class="d-flex flex-wrap justify-content-between" [ngStyle]="{'opacity': _opacity}" >
                    <div class="m-2 d-flex flex-column col"    > 
                        <label for="procesosSele">Procesos <strong class="text-danger">*</strong></label>
                        <select class="inpForms form-select rounded-pill w-100"
                            formControlName="procesosSele"
                            #procesosSele (change)="crearGrupop()"
                            id="procesosSele">
                                <option *ngFor="let procesos of listaProcesos" [value]="procesos.numeroProceso">
                                    <strong> {{procesos.numeroProceso }} </strong> |
                                    <span class="text-primary"> Proyecto: {{ procesos.nombreProyecto | uppercase }} </span>
                                </option>
                        </select>
                    </div>
                    <div class="m-2 d-flex flex-column col">
                        <label for="grupo">Grupo creado automáticamente:</label>
                        <input type="text" readonly
                        class="inpForms form-control rounded-pill"
                        formControlName="grupo"
                        #grupo id="grupo" >
                    </div>
                </div>
                <hr>
                <span>Esta fecha pone un inicio y un fin a la visualización 
                    del botón de inscripción que se visualizará en la pantalla de inicio del sistema
                </span>
                <div class="d-flex justify-content-between" >
                    <div class="m-2 d-flex flex-column col">
                        <label for="grupo">Nombre de apertura del proceso</label>
                        <input type="text"
                        class="inpForms form-control rounded-pill"
                        formControlName="nomproceso"
                        #nomproceso id="nomproceso">
                    </div>
                    <div class="m-2 d-flex flex-column">
                        <label for="fecInicio">Fecha Inicio
                          <strong class="text-danger">*</strong>
                        </label>
                        <input type="date" 
                               class="inpForms form-control rounded-pill"
                               formControlName="fecInicio"
                               #fecInicio id="fecInicio" >
                    </div>
                    <div class="m-2 d-flex flex-column">
                        <label for="fecInicio">Fecha Hasta
                          <strong class="text-danger">*</strong>
                        </label>
                        <input type="date"
                               class="inpForms form-control rounded-pill"
                               formControlName="fechaHasta"
                               #fechaHasta id="fechaHasta">
                    </div>
                </div>
                <div class="button mt-4 d-flex justify-content-end">
                    <button type="submit"
                            mat-raised-button color="warn"
                            class="d-flex align-items-center">
                            <mat-icon>done</mat-icon> Guardar
                    </button>
                </div>

            </form>

            </div>
            <div  class=" box-conf " >
                <div class="title d-flex align-items-center" >
                    <mat-icon>timer</mat-icon><span>Inscripciones Activas ({{_cantidad_procesos_act}})</span>
                </div>
                <hr>
                <div class="confs">
                    <div *ngFor="let confsvin of lisConfVinc" class="datacon"  >
                        {{ confsvin.nombre_inscrip}}
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>